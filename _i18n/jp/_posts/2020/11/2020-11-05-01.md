---
title:  "Setup of a personal GPU server with Ubuntu 20.04"
excerpt: "nvidia-driver, nvidia-cuda-toolkit, docker, nvidia-docker"
permalink: /2020/11/2020-11-05-01/
categories:
  - Blog
tags:
  - Blog
last_modified_at: 2020-11-05T08:20:30-21:25
---

Outline:

1. Installing and setting Ubuntu 20.04
2. Taking care of NVIDIA drivers and libraries(nvidia-cuda-toolkit)
3. Installing the docker and nvidia-docker

Requirements:

1. Desktop PC on which you usually work. I use Desktop PC
2. A machine with a GPU. My hardware is currently spec is below:
  CPU: Intel Core i5-6600 Processor(3.30 GHz, 4-core)
  GPU: NVIDIA TITAN X(12GB VRAM)
  RAM: 16 GB
  Storage: 256 SSD
  PSU: 600 W

1. Installing and setting Ubuntu 20.04

    [Install Ubuntu desktop | Ubuntu](https://ubuntu.com/tutorials/install-ubuntu-desktop#1-overview)

2. Taking care of NVIDIA drivers

    ```bash
    sudo add-apt-repository ppa:graphics-drivers/ppa

    ```

    ```bash
    sudo apt-get update
    ubuntu-drivers devices

    ```

    ```bash
    sudo apt install -y virtualenv python3-dev python3-pip

    ```

    ```bash
    sudo apt-get install -y nvidia-driver-440

    ```

    ```bash
    sudo apt-get install -y nvidia-cuda-toolkit

    ```

    ```bash
    root@mlops-desktop:/home/mlops# nvcc -V
    nvcc: NVIDIA (R) Cuda compiler driver
    Copyright (c) 2005-2019 NVIDIA Corporation
    Built on Sun_Jul_28_19:07:16_PDT_2019
    Cuda compilation tools, release 10.1, V10.1.243ã„¹
    ```

3. Installing docker, nvidia-docker, and open-ssh-client

    ```bash
    sudo apt-get update

    sudo apt-get install -y \
        apt-transport-https \
        ca-certificates \
        curl \
        gnupg-agent \
        software-properties-common

    curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -

    sudo apt-key fingerprint 0EBFCD88

    sudo add-apt-repository \
       "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
       $(lsb_release -cs) \
       stable"

    ```

    ```bash
    sudo apt-get update

    sudo apt-get install -y docker-ce docker-ce-cli containerd.io

    # Add the package repositories
    distribution=$(. /etc/os-release;echo $ID$VERSION_ID)
    curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add -
    curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list
    sudo apt-get update && sudo apt-get install -y net-tools openssh-client nvidia-container-toolkit

    systemctl restart docker

    ```